<html>
	<head>
		<script type="text/javascript" src="Authentication.js"></script>
		<script type="text/javascript" src="Yammer.js"></script>
		<script type="text/javascript" src="Yams.js"></script>
		<script type="text/javascript" src="global.js"></script>
		<script type="text/javascript">
chrome.extension.onRequest.addListener(
	function(request, sender, sendResponse) {
		if (request.action == "getMessages") { 
			var yammer = new Yammer();
			yammer.getMessages(sendResponse, {
				"olderThan": localStorage.getItem("lastYamId")
			});
			localStorage.removeItem("lastYamId");
		} else if(request.action == "storeLastYamId") {
			localStorage.setItem("lastYamId", request.yamId);
		}
	}
);


		</script>
	</head>
	<body>
	</body>
</html>